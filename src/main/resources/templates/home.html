<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:fragment="header"   th:replace="layouts :: header">
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	
	<link rel="stylesheet" th:href="@{/css/formatting.css}">
	
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

</head>
<body>
<nav th:replace="layouts :: navbar"></nav>
	
	<div class="container">
	<h3>Main Dashboard</h3>
	<hr>
	<h4>Projects </h4>
	<div class="row">
	<div class="col-md-6">

			<table class="table table-bordered table-striped">
				<thead class="thead-dark">
					<tr>
						<th>Project Name</th>
						<th>Project Stage</th>
					</tr>
				</thead>		
				<tbody>
					<tr th:each="aProject : ${projectList}">
						<td th:text="${aProject.name}"/>
						<td th:text="${aProject.stage}"/>
					</tr>
				</tbody>
			
			</table>
		</div>
		
		<div class="col-md-4">
			<canvas id="myPieChart", height="50" width="50"></canvas>
			
		</div>
		<script type="text/javascript" th:src="@{js/myChart.js}"></script>
	</div>
	</div>
		<div class="container">
	<h4>Current Employee</h4>
	<div class="row">
			<div class="col-md-6">
			
			<table class="table table-bordered table-striped">
				<thead class="thead-dark">
					<tr>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Project Count</th>
					</tr>
				</thead>		
				<tbody>
					<tr th:each="aEmployeeProjectCount : ${employeesListProjectCnt}">
						<td th:text="${aEmployeeProjectCount.firstName}"/>
						<td th:text="${aEmployeeProjectCount.lastName}"/>
						<td th:text="${aEmployeeProjectCount.projectCount}"/>
					</tr>
				</tbody>
			
			</table>
			</div>
			</div>
		
		</div>
</body>